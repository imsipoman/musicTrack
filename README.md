# 音游谱面生成器

这是一个简单易用的音游谱面设计工具，可以帮助您为音乐创建自定义谱面。

## 快速开始

### Windows用户

1. 双击 `start.bat` 文件
2. 如果提示需要管理员权限，请右键点击选择"以管理员身份运行"
3. 程序会自动检查是否安装了Node.js环境
4. 如果没有安装Node.js，脚本会自动下载并安装
5. 安装完成后，会自动安装项目依赖并启动谱面编辑器
6. 浏览器会自动打开 http://localhost:3000

### 手动启动

如果自动脚本不起作用，您可以手动执行以下步骤：

1. 安装 [Node.js](https://nodejs.org/)（推荐v16或更新版本）
2. 打开命令提示符或PowerShell
3. 导航到项目目录：`cd 项目路径`
4. 安装依赖：`npm install`
5. 启动服务器：`node server.js`
6. 在浏览器中打开 http://localhost:3000

## 使用说明

### 基本操作流程

1. 上传音乐文件，设置BPM和偏移量
2. 点击"生成格子"按钮，根据节拍类型生成编辑网格
3. 在四条颜色轨道上点击格子添加音符
4. 连续点击相邻格子会自动将它们合并为长音符
5. 点击已选中的格子可以取消选择
6. 点击播放按钮可以预览音频和编辑进度
7. 完成后点击"保存谱面"导出JSON文件

### 小技巧

- 不同颜色的轨道代表不同类型的音符
- 双击轨道区域可以快速回到开始位置
- 保存谱面时会自动合并连续的音符
- 播放音频时会显示一条时间线，标记当前播放位置

## 谱面JSON格式

```json
{
    "name": "歌曲名",
    "iamgePath": "图片路径",
    "musicPath": "音乐路径",
    "difficulty": 难度值,
    "BPM": BPM值,
    "offset": 偏移量,
    "track": {
        "note1": {
            "time": 时间点,
            "type": "1或2", // 1=短音符，2=长音符
            "color": 颜色索引,
            "begin": 开始时间,
            "end": 结束时间
        }
        // 更多音符...
    }
}
``` 